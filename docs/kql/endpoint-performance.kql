// API Endpoint Performance
// Shows performance metrics for each API endpoint
requests
| where timestamp > ago(24h)
| summarize 
    Count = count(),
    AvgDuration = avg(duration),
    P50 = percentile(duration, 50),
    P95 = percentile(duration, 95),
    P99 = percentile(duration, 99),
    FailureRate = countif(success == false) * 100.0 / count()
    by name
| order by Count desc
